–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: API –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
–ú–æ–¥–µ–ª–∏

Department ‚Äî –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
id: int
name: str (–Ω–µ –ø—É—Å—Ç–æ–π)
parent_id: int | null (FK –Ω–∞ Department, –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –¥–µ—Ä–µ–≤–æ)
created_at: datetime

Employee ‚Äî —Å–æ—Ç—Ä—É–¥–Ω–∏–∫
id: int
department_id: int (FK –Ω–∞ Department)
full_name: str (–Ω–µ –ø—É—Å—Ç–æ–π)
position: str (–Ω–µ –ø—É—Å—Ç–æ–π)
hired_at: date | null (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
created_at: datetime

–°–≤—è–∑–∏
Department 1‚ÄîN Employee
Department 1‚ÄîN Department (—Å–∞–º–æ—Å—Å—ã–ª–∫–∞ —á–µ—Ä–µ–∑ parent_id)

–ú–µ—Ç–æ–¥—ã API
1) –°–æ–∑–¥–∞—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
POST /departments/
Body:
name: str
parent_id: int | null (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
Response: —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ

2) –°–æ–∑–¥–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏
POST /departments/{id}/employees/
Body:
full_name: str
position: str
hired_at: date | null (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
Response: —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫

3) –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ (–¥–µ—Ç–∞–ª–∏ + —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ + –ø–æ–¥–¥–µ—Ä–µ–≤–æ)
GET /departments/{id}
Query:
depth: int (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1, –º–∞–∫—Å–∏–º—É–º 5) ‚Äî –≥–ª—É–±–∏–Ω–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π –≤ –æ—Ç–≤–µ—Ç–µ
include_employees: bool (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)
Response:
department (–æ–±—ä–µ–∫—Ç –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è)
employees: [] (–µ—Å–ª–∏ include_employees=true, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ created_at –∏–ª–∏ full_name)
children: [] (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –¥–æ depth, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ)

4) –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤ –¥—Ä—É–≥–æ–µ (–∏–∑–º–µ–Ω–∏—Ç—å parent)
PATCH /departments/{id}
Body:
name: str (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
parent_id: int | null (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
Response: –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ

5) –£–¥–∞–ª–∏—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
DELETE /departments/{id}
Query:
mode: str (cascade | reassign)
cascade ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ, –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
reassign ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ, –∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ reassign_to_department_id
reassign_to_department_id: int (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –µ—Å–ª–∏ mode=reassign)
Response: 204 No Content (–∏–ª–∏ json-—Å—Ç–∞—Ç—É—Å)



–õ–æ–≥–∏–∫–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
–ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ (404).
name –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è:
–Ω–µ –ø—É—Å—Ç–æ–π, –¥–ª–∏–Ω–∞ 1..200
–ø—Ä–æ–±–µ–ª—ã –ø–æ –∫—Ä–∞—è–º –¥–æ–ª–∂–Ω—ã —Ç—Ä–∏–º–º–∏—Ç—å—Å—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è)
–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ parent –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–≤–∞ ‚ÄúBackend‚Äù –≤ –æ–¥–Ω–æ–º —Ä–æ–¥–∏—Ç–µ–ª–µ –Ω–µ–ª—å–∑—è)
full_name:
–Ω–µ –ø—É—Å—Ç–æ–π, –¥–ª–∏–Ω–∞ 1..200
position:
–Ω–µ –ø—É—Å—Ç–æ–π, –¥–ª–∏–Ω–∞ 1..200
–ù–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–º —Å–∞–º–æ–≥–æ —Å–µ–±—è.
–ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å —Ü–∏–∫–ª –≤ –¥–µ—Ä–µ–≤–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –≤–Ω—É—Ç—Ä—å —Å–≤–æ–µ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 409 Conflict (–∏–ª–∏ 400).
GET /departments/{id} –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–¥–∞–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ –¥–æ depth
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≤ —Ä–µ–∂–∏–º–µ cascade —É–¥–∞–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞—Å–∫–∞–¥–Ω—ã–º –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î/ORM.



‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å net/http
–†–∞–±–æ—Ç–∞ —Å –ë–î —á–µ—Ä–µ–∑ GORM.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ c –ø–æ–º–æ—â—å—é goose.
–û–±–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Docker –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ docker-compose.
–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è: –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç–µ—Å—Ç—ã (httptest/testify)


üì¶ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å
–°—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (GitHub/GitLab).
README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ –∑–∞–ø—É—Å–∫—É (docker-compose up) –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞.


üß† –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏:
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞.
–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.
–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, –∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ).
–†–∞–±–æ—Ç–∞ —Å Docker –∏ docker-compose.
–ù–∞–ª–∏—á–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏ –º–∏–≥—Ä–∞—Ü–∏–π (—Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏ –æ–¥–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏).
 
‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:
1. 	–ù–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (–≤—Å–µ –≤ –æ–¥–Ω–æ–º –∏–ª–∏ –¥–≤—É—Ö —Ñ–∞–π–ª–∞—Ö, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏).
2. 	–ù–µ—á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥ (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π, —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å –ë–î).
3. 	–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
5. 	–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ README.md.

